<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Chatroom</title>
    <!-- Bootstrap Icons for UI icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/chatroom_admin.css">
</head>
<body>
    <!-- ===== TOP BAR: Navigation and User Info ===== -->
    <nav class="chat-navbar">
        <!-- Back button -->
        <button class="nav-back" id="chat-back-btn" aria-label="Back to user list">
            <i class="bi bi-arrow-left"></i>
        </button>
        <!-- Profile photo, name, role, and status -->
        <div class="nav-profile">
            <img src="images/default-avatar.png" alt="Profile" class="profile-photo" id="chat-user-avatar">
            <div class="profile-info">
                <span class="profile-name" id="chat-user-name">User Name</span>
                <span class="profile-role-badge" id="chat-user-role">User</span>
                <span class="profile-status online" id="chat-user-status">Online</span>
            </div>
        </div>
        <!-- Menu (three dots) -->
        <button class="nav-menu" aria-label="Menu">
            <i class="bi bi-three-dots-vertical"></i>
        </button>
    </nav>

    <!-- ===== CHAT BODY: Message Bubbles ===== -->
    <main class="chat-body" id="chat-body">
        <!-- Message bubbles will be rendered here dynamically -->
    </main>

    <!-- ===== BOTTOM INPUT BAR ===== -->
    <form class="chat-input-bar" id="chat-input-bar" autocomplete="off">
        <!-- Emoji button -->
        <button type="button" class="input-emoji" aria-label="Emoji">
            <i class="bi bi-emoji-smile"></i>
        </button>
        <!-- Chat input field -->
        <input type="text" class="input-message" id="input-message" placeholder="Type a message..." required>
        <!-- Send button -->
        <button type="submit" class="input-send" aria-label="Send">
            <i class="bi bi-send"></i>
        </button>
    </form>

    <!-- JS for chatroom admin -->
    <!-- Tambahkan CDN Supabase sebelum script custom untuk mencegah race condition -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Centralized Supabase client must be loaded before other scripts -->
    <script src="js/supabaseClient.js"></script>
    <script src="js/chatroom_admin.js"></script>
</body>
</html>
